# テキストまとめ

## 第 1 章 AWS 認定資格

- 役割別認定資格
  - プラクティショナー
  - アソシエイト
  - プロフェッショナル
- 専門知識認定資格
  - ネットワーク、データアナリティクス、セキュリティ、機械学習、データベース、SAP

## 第 2 章 AWS クラウドの概念

- クラウド
  - AWS のようなプラットフォームから、インターネットを通じて様々な IT リソースをオンデマンドで利用できるサービス
  - ネットワーク経由でデータのやり取りを行うため、静的コンテンツはエンドユーザーの近く、動的コンテンツはクラウド上での処理とすることが望ましい
- オンプレミス
  - 設備を自分たちで構築、運用するシステム
- AWS
  - IT インフラストラクチャサービスのこと
- AWS の 6 つのメリット
  1. 固定費が柔軟な変動費へ
  2. 多くのユーザーによるコストダウン
  3. キャパシティ予測が不要に
  4. 検証や開発における速度の向上 → 組織としての俊敏性の向上
  5. データセンターにかかる重労働が不要になる
  6. 一瞬で世界のどこにでもデプロイ可能
- Design for Failure
  - 時間が経てば必ず故障するという考え方、これを実現するために**単一障害点(SPOF)を**無くす
    - 例:1 つのデータセンターのみで運用しない、単一のインスタンスのみで運用しない
  - AWS はマネージドサービスは単一障害点にならない
- サービス指向アーキテクチャ
  - サービスを組み合わせてシステムを作り、必要になれば外部から必要なサービスを呼び出す
- 疎結合
  - SOA において、サービス同士の依存性が低いこと、これがクラウドにおける理想形
- Amazon SQS
  - システム間に入り、データの受け渡しを送信元、受信先共に非同期で実行できるようにするサービス
- マイクロサービスアーキテクチャ
  - 独立したサービスを組み合わせることでシステムを構築する技法、これを利用する
- 弾力性
  - 伸縮性とも言う、性能を柔軟にスケールアウト、スケールインできるというクラウドにおける概念、以下の方法で実現する。これらは使い捨て可能なリソースとして考えてスケールアウトする。
    - スケジュールドスケールアウトパターン
      - 処理増加が良そうされる時間に自動的にスケールアウトすること
    - スケールアウトパターン
      - 処理増加を自動で検知してスケールアウトすること
- 並列化
  - 弾力性と合わせて、ロードバランサーを利用して取り入れる概念。高負荷時にはスケールアウト、低負荷時にはスケールインを行う
- AWS Well-Architected フレームワーク
  - クラウド運用をするうえで作られたアーキテクチャのベストプラクティス、6 本の柱を基本としている
    1. 運用上の優秀性 : 運用監視とそのサポートや手順を継続的に改善する機能
    2. セキュリティ : リスクとその軽減戦略を通して情報、システム、資産を保護する能力
    3. 信頼性 : 障害からの復旧、弾力性、軽度の障害の軽減といったシステムの機能
    4. パフォーマンス効率 : リソースを効率的に使用し、様々な変化にも対応する能力
    5. コスト最適化 : 最もコスパ良くシステムを実行する能力
    6. サステナビリティ : 環境への影響やエネルギー消費と効率に重視する、持続可能な設計をする能力
- AWS Well-Architected Tool
  - AWS Well-Architected フレームワークに則っているか、リスクや改善案を確認するツール

## 第 3 章 AWS のセキュリティ

- AWS 責任共有モデル
  - AWS とユーザとの責任範囲を決め、セキュリティを共有すること
  - AWS はクラウド本体のセキュリティを担当、ユーザはクラウド内部のセキュリティを担当(AWS が用意したサービスを利用する)
- ルートアカウント
  - AWS 内すべての操作が可能なアカウント、API キーを作成してはいけない
- API キー
  - アクセスキーとシークレットアクセスキーのこと、ID と PW みたいなもの、AWS CLI の操作や AWS SDK の操作のために環境に設定する
- セキュリティ
  - データセンター、ハイパーバイザーのセキュリティは AWS 担当
  - 管理プレーン(ID とパスワード、キーペア、API キー)はユーザが管理する
  - マネージドではないサービスのセキュリティについては、ユーザが操作できる範囲はユーザの責任
  - EC2 などのコンピューティングサービスは OS 層以上はユーザの責任
  - ファイアウォールはユーザの責任
  - マネージドなサービスはユーザと AWS それぞれ分担、プラットフォーム部分は AWS、データやアプリケーションはユーザ、アクセスコントロールやアカウント認証はユーザ
  - ベストプラクティス
    - 転送のさいに適切なプロトコルや暗号化アルゴリズムを使用する
    - 蓄積データには暗号化を行う
    - AWS 資格情報を保護するためには適切な権限のユーザの作成を行う
    - アプリケーションの安全性を確保するためには定期的な脆弱性診断と脆弱性情報の確認を行う
  - 利点
    - データ保護、コンプライアンス要件への準拠、コスト削減、迅速なスケーリング
- AWS Artifact
  - 第三者によるコンピュータのセキュリティ検査レポート(コンプライアンスレポート)を提供するサービス
- IAM
  - AWS Identity and Access Management の略で、アクセス管理サービスのこと
  - IAM ユーザや IAM グループを作成することで最小限のアクセス権限の割り当てを行う
  - IAM ポリシーが相反するときは、拒否が優先される
  - IAM ユーザには最大 2 つの API キーを作成できる
- IAM ロール
  - ユーザやサービスがアクセス許可を一時的に利用するための認証情報
  - ロールを付けたり切り替えることを**ロールを引き受ける**という
- セキュリティグループ
  - EC2 インスタンスのトラフィックを制御する仮想ファイアウォールのこと
- AWS Shield
  - DDoS 攻撃に対する保護を行うマネージドサービス
  - エッジロケーションで使用される(Route 53 や Cloudfront を保護するため)
- DDoS 攻撃
  - Distributed Denial of Service Attack の略、トラフィックを増大させ、サービスに高負荷をかける攻撃
- AWS Shield Standard
  - 追加料金なしで利用可能、一般的な DDoS 攻撃に対応
  - 保護対象は Route 53、CloudFront
- AWS Shield Advanced
  - 分析、レポート生成を**DDoS Response Team(DRT)が**行ってくれる有償プラン
  - DRT は DDoS 攻撃専門のセキュリティチーム
- Shirld Response Team
  - DRT の業務+DDoS の常時監視や対策の提供を行う。Advanced の加入+ビジネスプラン以上のサポートプランが必要
- AWS WAF
  - 一般的な Web の脆弱性から Web アプリケーションを保護するマネージドサービス、基本料金は無料、追加したルールに基づき課金される
  - Web ACL(Web Access Control List)でルールを指定し、Cloudfront、ALB、API Gataway に適応することができる
- WAF
  - Web Application Firewall の略、Web サイトアプリケーションに特化したファイアウォール
- Amazon API Gateway
  - REST、WebSocket API の作成、公開、保守、モニタリング、保護が簡単にできるマネージドサービス
- Amazon Inspector
  - EC2 上の Web アプリケーションの脆弱性診断を自動で行うサービス
- PCI DSS(Payment Card Industry Data Secyrity Standard)
  - クレジットカード会員情報を保護するためのセキュリティ基準
- AWS Key Management Service(KMS)
  - 暗号化キーを作成・管理し、AWS のサービスやアプリケーションでの使用を制御できるサービス

## 第 4 章 AWS のテクノロジー

- リージョン
  - サービスを利用するための地域、リージョンによって利用できるサービスとコストが異なる場合がある
- アベイラビリティゾーン(AZ)
  - 各リージョン内の**データセンター**の集合体、AZ 同士は同一の障害が影響しないように地理的に離れた位置に存在する
  - AZ 同士はプライベートネットワーキングで接続されている
- マルチサイトアクティブ-アクティブ
  - 複数リージョンに同一のシステムを構築することで冗長化を行った構成
- エッジロケーション
  - リージョンとはまったく異なるもの、信頼性と拡張性の高い DNS の実現とコンテンツの低レイテンシー配信に使用する
  - 対象サービスは以下
    - Amazon RouteS3
      - エッジロケーションで利用される DNS サービス
    - Amazon Cloudfront
      - CDN(Contents Delivery Network)サービスのことで、ユーザに対して低レイテンシーのコンテンツキャッシュを配信することができる

## 第 5 章 コンピューティングサービス

- EC2(Amazon Elastic Compute Cloud)
  - 仮想サーバインスタンスを提供するサービス、仮想サーバ 1 台で 1**インスタンス**と言う
  - 秒単位での従量課金制
  - アウト通信(インターネットへの送信)に転送料金が発生する、イン通信は料金は発生しない
  - トラフィックはセキュリティグループで制御する
  - Amazon Linux では ec2-user、Ubuntu では ubuntu が root 権限を持つことのできるユーザとして初期設定されている
- プロビジョニング
  - ボリュームサイズとして確保している容量のこと
- インスタンスタイプ
  - インスタンスの性能の組み合わせ
  - 運用開始後にインスタンスを停止すれば変更できる
- AMI(Amazon Machine Image)
  - EC2 インスタンスのテンプレートのこと、AMI を使用して同じ構成のインスタンスを複数起動できる
  - AWS MarketPlace を使用して、ソフトウェア構成済みのインスタンスを起動できる
  - リージョンをまたいで共有はできない
- キーペア
  - 公開鍵と秘密鍵の 2 つの鍵ファイルで認証を行いログインするのに使用する
- コンバーティブル
  - リザーブドインスタンスにおいて、期間中に属性を変更できるタイプ
- リザーブドインスタンス
  - 1 年または 3 年の使用期間を事前設定することで割引を受けることがでできるオプション
  - 3 年間、前払い、スタンダード(コンバーティブルでない)タイプが最も割引率が高い
- Elastic Load Balancing(ELB)
  - ユーザからのリクエストを別々の AZ に配置されたインスタンスに分散させるサービス
  - HTTP/HTTPS では ALB タイプを使用、それ以外の TCP では NLB を使用する
  - ヘルスチェック機能がある
  - ELB は高可用性のマネージドサービスであるため、単一障害点にならない
- クロスゾーン負荷分散
  - AZ を超えて負荷分散を行うかどうかの設定のこと、有効の場合、複数の AZ に ELB を配置し、複数の AZ に配置されている、すべての対象のインスタンスに対して均一にトラフィックを分散させる
- Auto Scaling
  - 必要に応じてインスタンスの起動、停止を自動で行うことができるサービス
  - 高可用性、障害耐性、コスト効率化がメリットとして上げられる
  - 起動テンプレート(どんなインスタンスを)、Auto Scaling グループ(どの環境で)、スケーリングポリシー(いつ)を設定して使用する
  - 無料で使用できる
- 水平スケーリング
  - Auto Scaling のように数の増減でスケーリングすること
  - インスタンスそのものの性能を変更してスケーリングすることは**垂直スケーリング**という
  - 水平スケーリングのほうが、スケーラビリティを確保しやすい
- クールダウン
  - Auto Scaling のシンプルポリシーにおいて、頻繁にインスタンスの起動/終了が起こることを防ぐ機能
  - 起動が始まった際に閾値を再度超えた時のために起動準備中はクールダウンとして、再度起動はしないようにできる。
- ウォームアップ
  - Auto Scaling のステップポリシーにおいて、インスタンスが頻繁に追加されることを防ぐ、クールダウンと異なり、必要数に満たなければ追加される
  - ステップポリシーによって段階的に閾値が設定されている時に、複数の閾値を超えるとすべてのアクションが実行され、インスタンス過多になる。これを防ぐために 1 つ目の閾値を超えてインスタンスの起動が始まった時、その起動準備中のインスタンスはウォームアップ状態となる。2 つ目の閾値を超えたときのアクションに設定された台数は、ウォームアップ状態の分を差し引いて起動準備が始まる。
- スケジュール
  - 時間指定の Auto Scaling アクション
- ステートレス
  - インスタンスはスケーリングにおいて削除されるので、情報や状態を持たせないような構成のこと
- ブートストラップ
  - AMI から起動した際に、スクリプトを実行することで、最新のアプリケーションを起動できるようにする機能
- ユーザデータ
  - 初回起動時に自動実行してデプロイを自動化するためにブートストラップに設定するスクリプトのこと
- メタデータ
  - パブリック IP アドレスやインスタンス ID などのインスタンスが起動しないと生成されないデータのこと
- AWS Lambda
  - ソースコードのみでプログラムを、サーバ構築や環境の準備をすることなく、実行することのできるサービス
  - リクエストに応じて自動的に設定なしで水平的にスケーリングして、並行で実行される
  - 実行時間のミリ秒単位で課金される
  - 様々な AWS サービスをトリガーにすることができる
- AWS CodeCommit
  - ソースコードをリポジトリでバージョン管理するサービス

## 第 6 章　ストレージサービス

- EBS(Amazon Elastic Block Store)
  - EC2 インスタンスにアタッチして使用するストレージのこと
  - AZ 内で自動的にレプリケーションされる
  - 使い始めたのちにボリュームタイプとストレージ容量を変更できる
  - 暗号化を設定した後に追加の操作は必要ない
  - 永続的にデータを保存しておくことができる
- 汎用 SSD
  - 標準のボリュームタイプ。gp2 と gp3 がある。性能は最大 16000IOPS となる。gp2 は IOPS がボリュームによって決まっているが、gp3 は設定できる
- IOPS
  - 1 秒あたりにディスクが処理できる I/O アクセス数
- プロビジョンド IOPS SSD
  - 16000 を超える IOPS や高いパフォーマンスが必要な時に選択できるボリュームタイプ、最大 64000IOPS まで設定できる
- スループット最適化 HDD
  - 性能を必要とせずコストを節約するときに使用するボリュームタイプ
- Cold HDD
  - スループット最適化 HDD よりアクセス頻度が少ないときに設定する
- イレブンナイン(99.999999999%)
  - S3 の耐久性、EBS のスナップショットは S3 に保存されるため、同様にイレブンナインの耐久性を持つ
- インスタンスストア
  - ホストローカルのストレージを使用する機能。データを一時的(インスタンスが起動している間のみ)に保存できる。
- S3(Amazon Simple Storege Service)
  - インターネット対応の完全マネージドサービス
  - 容量は無制限
  - 耐久性は**イレブンナイン**
  - HTTPS でアクセスすることができ、複数の暗号化の方法を選択できる
  - ストレージクラスによって、コスト効率化を行うことができる(ライフサイクルポリシーで自動化もできる)
  - リージョン外へのアウト通信のみ転送料金が発生する
- バケット
  - S3 のデータの入れ物のこと、デフォルトではプライベート設定になっている
- アクセスコントロールリスト(ACL)
  - オブジェクト単位で全世界からの匿名アクセスを可能にする機能
- バケットポリシー
  - S3 のバケット、オブジェクトへのアクセス権限設定、ACL より詳細に設定することができる
- ブロックパブリックアクセス
  - バケットポリシーや ACL で全世界からのパブリックアクセスを設定させないようにする設定、デフォルトでオンになっている
- IAM ポリシー
  - IAM ユーザにアクセス権を設定したり、AWS サービスからの S3 アクセス権を設定するのに使用する
- クロスリージョンレプリケーション
  - リージョンを跨いだバックアップの設定
- DataSync
  - オンプレミスから AWS のストレージサービスの転送に使用するサービス
- Snowmobile
  - オンプレミスから AWS へのエクサバイト級のデータ転送に使用する
- Snowcone
  - 数テラバイトの場合はこちらを使用する

### 第 7 章 ネットワークサービス

- VPC(Amazon Virtual Private Cloud)
  - AWS クラウド内のプライベートなネットワーク環境
  - リージョンを選択して作成する
  - CIDR で VPC 内の IP アドレスの範囲を定義できる
  - アベイラビリティゾーンを指定してサブネットを作成
  - CIDR でサブネット内の IP アドレスの範囲も指定できる
  - インターネットゲートウェイで外部のインターネットと接続
  - インターネットゲートウェイは高可用性と冗長性を持っている
  - サブネットはパブリックサブネットとプライベートサブネットに役割で分けることができる
  - セキュリティグループは VPC を指定して作成し、送信元には CIDR と他のセキュリティグループ ID を指定することができる
  - VPN 接続でオンプレミス環境と接続できる
- メインルートテーブル
  - サブネットに関連付けられたデフォルトのルートテーブル
    - ルートテーブルはサブネット内のリソースがどこに接続できるかを定義する
- ネットワーク ACL
  - サブネットに対して設定するファイアウォール
  - デフォルト VPC ではすべてのトラフィックを許可していて、拒否するポートと送信元を指定できる
  - カスタム VPC ではすべて拒否されている状態がデフォルトになる
- ハイブリッド環境構成
  - オンプレミスとクラウドの両方を活用する構成
- AWS Direct Connect
  - オンプレミス環境との帯域を確保したり、セキュリティやコンプライアンス要件を満たすための専用線を選択できるサービス
- AWS CLoudFront
  - エッジロケーションにキャッシュを持つことで、低遅延でコンテンツを配信できる CDN サービス
- AWS Certificate Manager
  - Cloudfront に設定できるドメインの証明書を作成、管理できるサービス
- Amazon Route 53
  - エッジロケーションでも使用される DNS サービス
  - 用途に応じて最適なルーティング方法を選択できる
- Zone Apex
  - サブドメインでないトップレベルのルートドメイン

### 第 8 章 データベースサービス

- RDS(Amazon Relational Database Service)
  - AWS で使用できるリレーショナルデータベース
  - OS、DB エンジンのメンテナンスを AWS に任せられる
  - マルチ AZ 配置をオンにすることで、レプリケーションが自動で行われる
  - **SQL 型**のテーブル形式
  - 中規模で整合性や複雑なクエリが必要な場合に使用する
- ポイントタイムリカバリ
  - 自動バックアップを設定している期間内で、秒数指定で特定時点のインスタンスを復元できる
- クロスリージョンリードレプリカ
  - 他のリージョンにリードレプリカを作成すること
- Amazon Aurora
  - クラウドに最適化して再設計したリレーショナルデータベースエンジン
  - MySQL/PostgresSQL 互換がある
- DMS(AWS Database Migration Service)
  - データベースの移行に使用するサービス
  - 継続的なデータ移行を行うため、ダウンタイムを最小限にできる
- Amazon DynamoDB
  - リージョンを選択して使用する**フルマネージド型**な**非リレーショナル**データベース
    - **NoSQL**ともいう、1 つのデータは**アイテム**として扱う
  - データ容量は**無制限**
  - 大規模なアクセスで単純で自由度の高いデータを使用する場合に使用する

### 第 9 章 管理サービス

- Amazon CloudWatch
  - EC2、RDS、DynamoDB などの各インスタンスの現在の状態、情報をモニタリングするサービス
- 標準メトリクス
  - AWS が管理している範囲のメトリクス情報、サービスによって取得される情報が異なる
- カスタムメトリクス
  - **PutMetricData** API を使用して収集するユーザがコントロールしている範囲のメトリクス情報
- CloudWatch エージェント
  - カスタムメトリクスとして CloudWatch に書き込むプログラム
- CloudWatch Logs
  - ログを収集する CloudWatch の機能
- SNS(Amazon Simple Notification Service)
  - CloudWatch で設定したアラームに対するアクションの 1 つ、E メールで送信したり、Lambda に渡すことができる
- Trust Advisor
  - AWS アカウント環境の状態を自動的にチェックして、ベストプラクティスに対してどうであったかのレポートをするサービス
  - コスト最適化では、余計なコストが発生していないかチェックする
  - パフォーマンスでは最適なサービス、サイズが選択されているかチェックする
  - セキュリティでは、リスクのある設定がないかチェックする
  - 耐障害性(フォールトトレランス)が低い状態がないかチェックする
- ソフトリミット
  - AWS アカウントを作った最初の時点でのサービス制限、意図しない操作や不正アクセスによる請求を防ぐため
- AWS CloudTrail
  - AWS アカウント内の API 呼び出しを記録する。**誰が・何をしたか**。
- AWS Config
  - AWS リソースの設定を自動記録する。変更記録が見られる。**何が・どう変わったか**。
- AWS CloudFormation
  - AWS の環境を自動作成/更新/管理する
  - このようなコードによる環境を**IaC**という
- AWS CodeCommit
  - コードをバージョン管理するリポジトリ
- AWS Elastic Beanstalk
  - Web アプリケーション環境を AWS に構築するサービス
  - CloudFormation のようにテンプレートを作成するのではなく、設定パラメータで構築する

### 第 10 章 AWS 料金モデル

- 従量課金制
  - **資本の支出を変動費に**することができる
  - 課金体系はサービスによって異なる
  - 多彩な料金モデルを持つサービスによって最適な料金を選択できる
  - 請求書では月の途中でも課金状況を確認できる
- コスト分配タグ
  - サービスに付けた、コスト分析のために使用するタグ
  - コストエクスプローラでグラフに可視化したり、CSV 形式でダウンロードできる
- AWS Budgets
  - 設定予算を超えると予測されたときにアラートを発信するサービス
- AWS Organizations
  - 複数アカウントを一括管理するサービス
  - 複数アカウントの一括請求ができる
- エスカレーションパス
  - サポートプランの問い合わせ先のこと
  - サポートプランは 5 つある
- AWS Pricing Calculator
  - どのくらいのコストがかかるか事前に知ることができるサービス
